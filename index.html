<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Admin Biogás</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
</head>
<body class="bg-gray-100 min-h-screen p-6">
  <div id="root"></div>

  <script type="text/babel">
    const { useState } = React;

    const contentMap = {
      educationalTexts: {
        title: "Texto Educativo",
        formFields: [
          { name: "titulo", label: "Título", type: "text" },
          { name: "texto", label: "Texto", type: "textarea" },
          { name: "anexo", label: "Anexo (PDF ou Imagem)", type: "file" }
        ]
      },
      simulations: {
        title: "Simulação",
        formFields: [
          { name: "titulo", label: "Título da Simulação", type: "text" },
          { name: "descricao", label: "Descrição", type: "textarea" },
          { name: "arquivo", label: "Arquivo de Simulação", type: "file" }
        ]
      },
      quizzes: {
        title: "Quiz",
        formFields: [
          { name: "pergunta", label: "Pergunta", type: "text" },
          { name: "resposta", label: "Resposta Correta", type: "text" }
        ]
      },
      checklists: {
        title: "Checklist",
        formFields: [
          { name: "item", label: "Item do Checklist", type: "text" }
        ]
      }
    };

    const TabButton = ({ text, isActive, onClick }) => (
      <button
        onClick={onClick}
        className={`px-4 py-2 rounded ${isActive ? 'bg-green-600 text-white' : 'bg-gray-200'}`}
      >
        {text}
      </button>
    );

    const ContentManagement = () => {
      const [activeTab, setActiveTab] = useState('educationalTexts');
      const [formData, setFormData] = useState({});
      const [isEditing, setIsEditing] = useState(false);
      const [showModal, setShowModal] = useState(true);

      const activeTabConfig = contentMap[activeTab];
      const modalTitlePrefix = isEditing ? "Editar" : "Criar";

      const handleChange = (e) => {
        const { name, value, files } = e.target;
        setFormData({
          ...formData,
          [name]: files ? files[0] : value
        });
      };

      const handleSubmit = (e) => {
        e.preventDefault();
        console.log("Conteúdo enviado:", formData);
        setShowModal(false);
      };

      return (
        <div className="bg-white p-6 rounded-xl shadow-xl w-full max-w-4xl mx-auto">
          <h1 className="text-3xl font-bold text-center text-green-700 mb-6">Painel de Gestão BioStart</h1>
          <div className="flex justify-center space-x-4 mb-6">
            <TabButton
              text="Textos Educativos"
              isActive={activeTab === 'educationalTexts'}
              onClick={() => setActiveTab('educationalTexts')}
            />
            <TabButton
              text="Simulações"
              isActive={activeTab === 'simulations'}
              onClick={() => setActiveTab('simulations')}
            />
            <TabButton
              text="Quizzes"
              isActive={activeTab === 'quizzes'}
              onClick={() => setActiveTab('quizzes')}
            />
            <TabButton
              text="Checklists"
              isActive={activeTab === 'checklists'}
              onClick={() => setActiveTab('checklists')}
            />
          </div>

          {showModal && (
            <div className="border-t pt-6">
              <h2 className="text-xl font-bold mb-4">{`${modalTitlePrefix} ${activeTabConfig.title}`}</h2>
              <form onSubmit={handleSubmit} className="space-y-4">
                {activeTabConfig.formFields.map((field) => (
                  <div key={field.name}>
                    <label className="block mb-1 font-medium">{field.label}</label>
                    {field.type === 'textarea' ? (
                      <textarea
                        name={field.name}
                        onChange={handleChange}
                        className="w-full border p-2 rounded"
                        rows={4}
                      />
                    ) : (
                      <input
                        type={field.type}
                        name={field.name}
                        onChange={handleChange}
                        className="w-full border p-2 rounded"
                      />
                    )}
                  </div>
                ))}
                <button type="submit" className="bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700">
                  Salvar
                </button>
              </form>
            </div>
          )}
        </div>
      );
    };

    ReactDOM.createRoot(document.getElementById("root")).render(<ContentManagement />);
  </script>
</body>
</html>
